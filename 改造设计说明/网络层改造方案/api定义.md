# push/pull 
## push/pull

### 请求发送数据

#### 函数签名
send_message(peerId:PeerId,topic:Vec<u8>,message:Vec<u8>)
  * peerId: 需要发送的对端节点ID
  * topic 事件主题
  * message消息内容
#### 返回： 
  无  
#### 说明：   
该接口向peerId发送数据，push/pull模块使用推/拉方式进行数据传输，即接收方会检查所推送的数据本地是否已经存在，如果存在，则不会请求接收，因此如果两次发送的数据是一致的，如果meesage大于一定字节数，将不会重复发送。同理，如果收到两个节点发送来的重复请求，也同样不会重复传输。  
此处的peerId必须已经连接的邻节点，否则该命令会被丢弃

### 设置接收器
* 函数签名
register_event_stream(topic) -> mpsc::unboundreceiver()


## transp2p
### 请求发送数据到一组节点
#### 函数签名
    send_message(peerId:Vec<PeerId>,topic:Vec<u8>,message:Vec<u8>)  
  * peerId: 一组需要发送的对端节点ID
  * topic 事件主题
  * message消息内容
#### 返回：  
  无  
####  说明
  该函数将数据发送到一组peerId上，peerId不需要是邻节点，数据将通过路由中继转发到该节点，如果节点与本地节点还没有建立路由，将会重新发现一次路由。
### 设置接收器
### 组播API
#### 发现组节点
  发现组节点是发现这些组节点的PeerId
#### 加入组
  加入组首先向全网广播自身已经加入到这个组，然后发现并且连接ALPHA个组节点
#### 退出组
  退出组停止向全网广播自身提供这个组服务，然后断开与这个组节点的连接
#### 组播消息
  组播消息选择属于这个组的ALPHA个节点，然后向这些节点发送消息。注意以下两点：
  1. 节点即使没有加入组，也可以向这个组发送消息
  2. 发送消息的目标节点并不一定需要与本节点直接连接，非直接连接的节点，系统将通过中继的方式进行转发

#### 直播API
直播角色： 上传者，管理节点，源节点，中继节点、轻节点
#### 创建直播组
  选择至少ALPHA个直接连接的节点，这个称为源节点，创建者向全网广播直播组的源节点
#### 加入直播组
寻找seed, 并且建立到该seed的连接，加入直播组时，需要提供自己的角色
#### 直播推流
  直播的创建者向源节点推送数据流，数据流将会在组内广播。
#### 发送消息给master
  任何一个节点都可以发送消息给管理节点，这个数据首先发送到seed节点，然后seed节点发送给管理节点。
#### 组播

### 存储API
文件格式定义： ANS://domain/anypath/anyname/....
#### 注册域名
#### 发布文件（域名+任意名称）
  操作者需要拥有该域名，写
#### 读取文件（域名+任意名称）
#### 更新文件（域名+任意名称）
  操作者需要拥有该域名

### 点播API
#### 打开文件
  打开文件通过文件名查找到文件CID的过程
#### 读取数据

### P2P DBAPI
#### PUT
#### GET
#### ITERATOR

## 区块链相关API



