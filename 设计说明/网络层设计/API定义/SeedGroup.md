# API定义

## SeedGroup
SeedGroup通过Put/Get Value来实现，在实现时，这个Value是需要经过签名的，否则不会被进行转发,
### 设置/更新分组源节点
#### 函数签名
#### 参数
#### 返回值

### 加入分组
#### 函数签名
#### 参数
#### 返回值

### 离开分组
#### 函数签名
#### 参数
#### 返回值

### 数据推送到源节点
#### 函数签名
#### 参数
#### 返回值

### 设置接收事件流
#### 函数签名
#### 参数
#### 返回值

### 向master推送消息
#### 函数签名
#### 参数
#### 返回值

### master定向推送消息
#### 函数签名
#### 参数
#### 返回值

### master广播组内消息
#### 函数签名
#### 参数
#### 返回值

## DelayRelay
本模块实现一个可延时的，权重优先可替代的数据转发器。可延时是指数据缓存后，将会按照要求延时一段时间后再进行发送。可替代是指每组可延时的数据，都有一个唯一的标识，具有同一标识的两组数据，被认为是可以替代的；权重优先的方案是指具有同一标识的数据，高权重的将有可能覆盖低权重的。其替代的方案为：当具有同一标识的数据块到达时，如果新数据块的权重更高，则直接覆盖低权重的；如果新数据权重低，就直接被抛弃；如果一样，检查现有的数据剩余的时间和新的延时时间，取时间短的保留

### 延时转发
#### 函数签名
`delay_send(targets:Vec<PeerId>,data_id:Vec<u8>,delay:Duration,weight:usize,data:Vec<u8>)`
#### 参数
   **targets**:一组目标节点  
   **data_id**:数据标识  
   **delay**:需要延时的时间  
   **weight**:权重  
   **data**:需要发送的数据  
#### 返回值
   Accepted,Replaced,Discard：分别代表，数据被接受，数据被接受并且替换了原有的数据，本数据被抛弃

#### 函数签名
`delay_send_group(group_name:&str,data_id:Vec<u8>,delay:Duration,weight:usize,data:Vec<u8>)`
#### 参数
   **group_name**:所需要发送的分组  
   **data_id** :数据标识  
   **delay**:需要延时的时间  
   **weight**:权重  
   **data**:需要发送的数据  
#### 返回值
   Accepted,Replaced,Discard：分别代表:数据被接受，数据被接受并且替换了原有的数据，本数据被抛弃
